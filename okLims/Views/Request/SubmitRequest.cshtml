@model okLims.Models.Request
    @{Layout = "~/Views/Shared/_Layout.cshtml"; }

<header>

</header>
<body>
    <div class="content-wrapper">
        <section class="content">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title text-primary"><i class="fa fa-users"></i>Submit Request</h3>
                    <div class="box-tools pull-right">
                        <button type="button" class="btn btn-box-tool" data-widget="collapse" data-toggle="tooltip"
                                title="Collapse">
                            <i class="fa fa-minus"></i>
                        </button>
                        <button type="button" class="btn btn-box-tool" data-widget="remove" data-toggle="tooltip" title="Remove">
                            <i class="fa fa-times"></i>
                        </button>
                    </div>
                </div>
                <div class="box-body">
                    <div class="col-lg-8">
                        <form method="post" name="SubmitRequestForm" id="SubmitRequestForm">
                            <div class="form-group">
                                <div class="col-lg-3">Email</div>
                                <ejs-textbox id="textboxfor" name="RequesterEmail" placeholder="Email" floatLabelType="Auto" ejs-for="@Model.RequesterEmail"></ejs-textbox>

                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">Filter Type</div>
                                <ejs-dropdownlist id="FilterID" placeholder="Filter Type">
                                    <e-data-manager adaptor="WebApiAdaptor" url="/api/FilterType" crossDomain="true"></e-data-manager>
                                    <e-dropdownlist-fields text="filterType" value="FilterID"></e-dropdownlist-fields>
                                </ejs-dropdownlist>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">Filter Size</div>
                                <ejs-dropdownlist id="SizeID" placeholder="Filter Size">
                                    <e-data-manager adaptor="WebApiAdaptor" url="/api/FilterSize" crossDomain="true"></e-data-manager>
                                    <e-dropdownlist-fields text="filterSize" value="SizeID"></e-dropdownlist-fields>
                                </ejs-dropdownlist>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">Controller Type</div>
                                <ejs-dropdownlist id="ControllerID" placeholder="Controller Type">
                                    <e-data-manager adaptor="WebApiAdaptor" url="/api/ControllerType" crossDomain="true"></e-data-manager>
                                    <e-dropdownlist-fields text="controllerType" value="ControllerID"></e-dropdownlist-fields>
                                </ejs-dropdownlist>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">Start Date</div>
                                <ejs-datepicker id="Start" name="Start" ejs-for="@Model.Start"></ejs-datepicker>

                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">Due Date</div>
                                <ejs-datepicker id="End" name="End" ejs-for="@Model.End"></ejs-datepicker>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">Laboratory</div>
                                <ejs-dropdownlist id="LaboratoryId" placeholder="Laboratory">
                                    <e-data-manager adaptor="WebApiAdaptor" url="/api/Laboratory" crossDomain="true"></e-data-manager>
                                    <e-dropdownlist-fields text="LaboratoryName" value="LaboratoryId"></e-dropdownlist-fields>
                                </ejs-dropdownlist>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">Special Details</div>
                                <ejs-textbox multiline="true" placeholder="Special Details" floatLabelType="Auto" ejs-for="@Model.Description"></ejs-textbox>



                            </div>
                            <div class="form-group">
                                <div class="col-lg-3">State</div>
                                <ejs-dropdownlist id="StateId">
                                    <e-data-manager adaptor="WebApiAdaptor" url="/api/RequestState" crossDomain="true"></e-data-manager>
                                    <e-dropdownlist-fields text="State" value="StateId"></e-dropdownlist-fields>
                                </ejs-dropdownlist>
                            </div>

                            <div>
                                <button value="Submit" type="submit">Submit</button>
                            </div>
                        </form>
                    </div>

                </div>
            </div>
        </section>
    </div>
@section Scripts{
    <script>
        $(document).ready(function () {
            $("#submitform").click(function (e) {
                var MyForm = JSON.stringify($("#SubmitRequestForm").serializeJSON());
                console.log(MyForm);
                $.ajax(
                    {
                        url: "api/Request/SubmitRequest",
                        type: "POST",
                        data: MyForm,
                    });
                e.preventDefault(); //STOP default action
            });
        });
    </script>
    }
</body>